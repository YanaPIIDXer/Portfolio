@startuml Structure
!define AWSPuml https://raw.githubusercontent.com/awslabs/aws-icons-for-plantuml/master/dist
!includeurl AWSPuml/AWSCommon.puml
!includeurl AWSPuml/GroupIcons/Cloud.puml
!includeurl AWSPuml/GroupIcons/Region.puml
!includeurl AWSPuml/GroupIcons/VirtualPrivateCloudVPC.puml
!includeurl AWSPuml/GroupIcons/VPCSubnetPrivate.puml
!includeurl AWSPuml/GroupIcons/VPCSubnetPublic.puml
!includeurl AWSPuml/Database/RDS.puml
!includeurl AWSPuml/Compute/EC2.puml
!includeurl AWSPuml/Compute/EC2ContainerRegistry.puml
!includeurl AWSPuml/Compute/EC2ContainerRegistryImage.puml
!includeurl AWSPuml/Compute/ElasticContainerService.puml

!include ./AwsIconsForPlantUML_Helper.puml

Cloud(Cloud, AWS, "AWS Cloud") {
    Region(Region, ap-northeast-1, "Asia/Tokyo") {
        VirtualPrivateCloudVPC(VPC, VPC, "VPC") {
            AvailabilityZone(AZ_1a, "1a") {
                VPCSubnetPrivate(Subnet1, Private, "10.0.0.1/24") {
                    RDS(DB, RDS, "MySQL")
                    ElasticContainerService(ECS, ECS, "ECS")
                }
                VPCSubnetPublic(Subnet2, Public, "10.0.0.2/24") {
                    EC2(SSHServer, EC2, "SSHサーバ")
                }
            }
        }
    }

    EC2ContainerRegistry(ECR, ECR, "ECR") {
        EC2ContainerRegistryImage(InnerAPI_Image, "Container", "InnerAPI")
    }
}

ECS <-- InnerAPI_Image

@enduml
